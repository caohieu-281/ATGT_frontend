[{"/home/tomorrow/Job/atgt/ATGT_frontend/src/reportWebVitals.ts":"1","/home/tomorrow/Job/atgt/ATGT_frontend/src/screen/CameraScreen.tsx":"2","/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Map/Map.tsx":"3","/home/tomorrow/Job/atgt/ATGT_frontend/src/screen/HomePage.tsx":"4","/home/tomorrow/Job/atgt/ATGT_frontend/src/screen/Dashboard.tsx":"5","/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Map/AddMarker.tsx":"6","/home/tomorrow/Job/atgt/ATGT_frontend/src/store/reducers/index.ts":"7","/home/tomorrow/Job/atgt/ATGT_frontend/src/components/ButtonConva/Button.js":"8","/home/tomorrow/Job/atgt/ATGT_frontend/src/store/actions/index.ts":"9","/home/tomorrow/Job/atgt/ATGT_frontend/src/store/reducers/places.ts":"10","/home/tomorrow/Job/atgt/ATGT_frontend/src/store/actions/map.ts":"11","/home/tomorrow/Job/atgt/ATGT_frontend/src/data.ts":"12","/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Search/Search.tsx":"13","/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Form/Form.tsx":"14","/home/tomorrow/Job/atgt/ATGT_frontend/src/store/reducers/map.ts":"15","/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Preview/Preview.tsx":"16","/home/tomorrow/Job/atgt/ATGT_frontend/src/store/reducers/search.ts":"17","/home/tomorrow/Job/atgt/ATGT_frontend/src/store/actions/places.ts":"18","/home/tomorrow/Job/atgt/ATGT_frontend/src/components/DrawPolygon/MultipleCanvas.js":"19"},{"size":425,"mtime":1671086233259,"results":"20","hashOfConfig":"21"},{"size":4894,"mtime":1671878403140,"results":"22","hashOfConfig":"21"},{"size":2740,"mtime":1671807014063,"results":"23","hashOfConfig":"21"},{"size":4008,"mtime":1671812016619,"results":"24","hashOfConfig":"21"},{"size":2562,"mtime":1671871597434,"results":"25","hashOfConfig":"21"},{"size":1155,"mtime":1671086233255,"results":"26","hashOfConfig":"21"},{"size":186,"mtime":1671250957320,"results":"27","hashOfConfig":"21"},{"size":368,"mtime":1671304076638,"results":"28","hashOfConfig":"21"},{"size":75,"mtime":1671250957320,"results":"29","hashOfConfig":"21"},{"size":1325,"mtime":1671086233259,"results":"30","hashOfConfig":"21"},{"size":99,"mtime":1671250957320,"results":"31","hashOfConfig":"21"},{"size":17622,"mtime":1671720116859,"results":"32","hashOfConfig":"21"},{"size":1634,"mtime":1671086233255,"results":"33","hashOfConfig":"21"},{"size":3909,"mtime":1671086233255,"results":"34","hashOfConfig":"21"},{"size":431,"mtime":1671720116859,"results":"35","hashOfConfig":"21"},{"size":2039,"mtime":1671086233255,"results":"36","hashOfConfig":"21"},{"size":460,"mtime":1671086233259,"results":"37","hashOfConfig":"21"},{"size":1090,"mtime":1671086233259,"results":"38","hashOfConfig":"21"},{"size":5917,"mtime":1671727816365,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1aos0xv",{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84"},"/home/tomorrow/Job/atgt/ATGT_frontend/src/reportWebVitals.ts",[],["85","86"],"/home/tomorrow/Job/atgt/ATGT_frontend/src/screen/CameraScreen.tsx",["87","88"],"/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Map/Map.tsx",["89"],"import { LatLngExpression } from \"leaflet\";\nimport { MapContainer, TileLayer, Marker, Tooltip } from \"react-leaflet\";\nimport { connect } from \"react-redux\";\nimport {\n  setPlacePreviewVisibility,\n  setSelectedPlace,\n} from \"../../store/actions\";\nimport { IState, Place } from \"../../store/models\";\nimport AddMarker from \"./AddMarker\";\nimport { useMap } from \"react-leaflet\";\n\nimport \"./Map.css\";\n\nfunction SetCenter() {\n  const map = useMap();\n  map.setView([21.0277644, 105.83415979], 13); // Ha Noi\n  return null;\n}\n\nconst Map = ({\n  location,\n  isVisible,\n  places,\n  center,\n  selectedPlace,\n  togglePreview,\n  setPlaceForPreview,\n}: any) => {\n  const defaultPosition: LatLngExpression = center; // Ha Noi position\n\n  const showPreview = (place: Place) => {\n    if (isVisible) {\n      togglePreview(false);\n      setPlaceForPreview(null);\n    }\n\n    if (selectedPlace?.title !== place.title) {\n      setTimeout(() => {\n        showPlace(place);\n      }, 400);\n    }\n  };\n\n  const showPlace = (place: Place) => {\n    setPlaceForPreview(place);\n    togglePreview(true);\n  };\n\n  return (\n    <div style={{ width: \"100%\", height: \"80vh\" }}>\n      <MapContainer\n        center={defaultPosition}\n        zoom={12}\n        scrollWheelZoom={true}\n        style={{ height: \"100%\" }}\n        zoomControl={true}\n      >\n        <SetCenter />\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        {places?.map((place: Place) => {\n          if (location && place.district) {\n            if (\n              location?.find((value, index) => {\n                if (value === place.district) return true;\n                return false;\n              })\n            )\n              return (\n                <Marker\n                  key={place.title}\n                  position={place.position}\n                  eventHandlers={{ click: () => showPreview(place) }}\n                >\n                  <Tooltip>{place.title}</Tooltip>\n                </Marker>\n              );\n          }\n        })}\n        <AddMarker />\n      </MapContainer>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: IState) => {\n  const { places, map } = state;\n  return {\n    center: map.center,\n    isVisible: places.placePreviewsIsVisible,\n    places: places.places,\n    selectedPlace: places.selectedPlace,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    togglePreview: (payload: boolean) =>\n      dispatch(setPlacePreviewVisibility(payload)),\n    setPlaceForPreview: (payload: Place) => dispatch(setSelectedPlace(payload)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Map);\n",["90","91"],"/home/tomorrow/Job/atgt/ATGT_frontend/src/screen/HomePage.tsx",["92","93"],"/home/tomorrow/Job/atgt/ATGT_frontend/src/screen/Dashboard.tsx",["94","95","96","97","98","99","100"],"/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Map/AddMarker.tsx",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/store/reducers/index.ts",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/components/ButtonConva/Button.js",[],["101","102"],"/home/tomorrow/Job/atgt/ATGT_frontend/src/store/actions/index.ts",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/store/reducers/places.ts",[],["103","104"],"/home/tomorrow/Job/atgt/ATGT_frontend/src/store/actions/map.ts",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/data.ts",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Search/Search.tsx",[],["105","106"],"/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Form/Form.tsx",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/store/reducers/map.ts",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/components/Preview/Preview.tsx",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/store/reducers/search.ts",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/store/actions/places.ts",[],"/home/tomorrow/Job/atgt/ATGT_frontend/src/components/DrawPolygon/MultipleCanvas.js",["107","108"],"import React, { useMemo, useRef, useState, useEffect } from \"react\";\nimport { Stage, Layer, Image, Group, Line, Circle } from \"react-konva\";\nimport Button from \"../ButtonConva/Button\";\n\nconst videoSource = \"img/vi_pham.jpg\";\nconst wrapperStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  // marginTop: 20,\n  backgroundColor: \"aliceblue\",\n};\nconst columnStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  // marginTop: 20,\n  backgroundColor: \"aliceblue\",\n};\nconst MultipleCanvas = () => {\n  const vertexRadius = 6;\n  const [image, setImage] = useState();\n  const imageRef = useRef(null);\n  const [size, setSize] = useState({});\n  const [position, setPosition] = useState([0, 0]);\n  const [data, setData] = useState([\n    {\n      points: [\n        // 342.7272720336914, 218.00821721816132, 315.7272720336914,\n        // 135.0050886442742, 292.7272720336914, 125.0047117076613,\n      ],\n    },\n  ]);\n  const calcDistTwoPoints = (x1, y1, x2, y2) => {\n    return (x1 - x2) ** 2 + (y1 - y2) ** 2;\n  };\n\n  const videoElement = useMemo(() => {\n    const element = new window.Image();\n    element.width = 960;\n    element.height = 540;\n    element.src = videoSource;\n    return element;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [videoSource]); //it may come from redux so it may be dependency that's why I left it as dependecny...\n  useEffect(() => {\n    const onload = function () {\n      setSize({\n        width: videoElement.width,\n        height: videoElement.height,\n      });\n      setImage(videoElement);\n      imageRef.current = videoElement;\n    };\n    videoElement.addEventListener(\"load\", onload);\n    return () => {\n      videoElement.removeEventListener(\"load\", onload);\n    };\n  }, [videoElement]);\n\n  const getMousePos = (stage) => {\n    return [stage.getPointerPosition().x, stage.getPointerPosition().y];\n  };\n\n  const undo = () => {\n    var tempData = data;\n    if (\n      tempData.length > 0 &&\n      tempData[tempData.length - 1].points.length > 2\n    ) {\n      tempData[tempData.length - 1].points = tempData[\n        tempData.length - 1\n      ].points.slice(0, -2);\n      setData(tempData);\n      setPosition(\n        tempData[tempData.length - 1].points[\n          tempData[tempData.length - 1].points - 1\n        ]\n      );\n    }\n  };\n\n  const reset = () => {\n    var tempData = data;\n    if (tempData.length >= 0) {\n      tempData = tempData.slice(0, -1);\n      setData(tempData.concat({ points: [] }));\n    }\n  };\n\n  const add = () => {\n    var dataTemp = data.concat({ points: [] });\n    setData(dataTemp);\n  };\n\n  const handleMouseMove = (e) => {\n    const stage = e.target.getStage();\n    const mousePos = getMousePos(stage);\n    setPosition(mousePos);\n  };\n\n  const handleMouseDown = () => {\n    if (data.length) {\n      var tempData = data;\n      var x1 = tempData[tempData.length - 1].points[0];\n      var y1 = tempData[tempData.length - 1].points[1];\n      if (calcDistTwoPoints(x1, y1, position[0], position[1]) < 150) {\n        tempData[tempData.length - 1].points = tempData[\n          tempData.length - 1\n        ].points.concat([x1, y1]);\n        setData(tempData);\n        add();\n      } else {\n        tempData[tempData.length - 1].points = tempData[\n          tempData.length - 1\n        ].points.concat(position);\n        setData(tempData);\n      }\n    } else {\n      setData([{ points: [position] }]);\n    }\n  };\n  return (\n    <div style={wrapperStyle}>\n      <div style={columnStyle}>\n        <Stage\n          width={size.width || 960}\n          height={size.height || 540}\n          onMouseMove={handleMouseMove}\n          onMouseDown={handleMouseDown}\n        >\n          <Layer>\n            <Image\n              ref={imageRef}\n              image={image}\n              x={0}\n              y={0}\n              width={size.width}\n              height={size.height}\n            />\n            {data.map((listPoint, idx) => {\n              if (listPoint.points.length) {\n                return (\n                  <Group key={idx}>\n                    <Line\n                      key={idx}\n                      points={listPoint.points}\n                      stroke=\"#00F1FF\"\n                      strokeWidth={3}\n                      fill=\"rgb(140,30,255,0.5)\"\n                    ></Line>\n\n                    {listPoint.points.map((element, index) => {\n                      if (index % 2 === 0) {\n                        const x = element;\n                        const y = listPoint.points[index + 1];\n                        return index === 0 ? (\n                          <Circle\n                            key={index}\n                            x={x}\n                            y={y}\n                            radius={vertexRadius}\n                            fill=\"#7CFC00\"\n                            stroke=\"#00F1FF\"\n                            strokeWidth={2}\n                            draggable\n                          />\n                        ) : (\n                          <Circle\n                            key={index}\n                            x={x}\n                            y={y}\n                            radius={vertexRadius}\n                            fill=\"#FF019A\"\n                            stroke=\"#00F1FF\"\n                            strokeWidth={2}\n                            draggable\n                          />\n                        );\n                      }\n                    })}\n                  </Group>\n                );\n              }\n            })}\n          </Layer>\n        </Stage>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Button name=\"Undo\" onClick={undo} />\n          <Button name=\"Reset\" onClick={reset} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MultipleCanvas;\n",{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","severity":1,"message":"114","line":14,"column":9,"nodeType":"115","messageId":"116","endLine":14,"endColumn":18},{"ruleId":"117","severity":1,"message":"118","line":73,"column":6,"nodeType":"119","endLine":73,"endColumn":8,"suggestions":"120"},{"ruleId":"121","severity":1,"message":"122","line":63,"column":37,"nodeType":"123","messageId":"124","endLine":63,"endColumn":39},{"ruleId":"109","replacedBy":"125"},{"ruleId":"111","replacedBy":"126"},{"ruleId":"113","severity":1,"message":"127","line":14,"column":8,"nodeType":"115","messageId":"116","endLine":14,"endColumn":15},{"ruleId":"113","severity":1,"message":"128","line":22,"column":18,"nodeType":"115","messageId":"116","endLine":22,"endColumn":24},{"ruleId":"113","severity":1,"message":"129","line":11,"column":8,"nodeType":"115","messageId":"116","endLine":11,"endColumn":11},{"ruleId":"113","severity":1,"message":"130","line":12,"column":10,"nodeType":"115","messageId":"116","endLine":12,"endColumn":16},{"ruleId":"113","severity":1,"message":"131","line":13,"column":15,"nodeType":"115","messageId":"116","endLine":13,"endColumn":26},{"ruleId":"113","severity":1,"message":"127","line":14,"column":8,"nodeType":"115","messageId":"116","endLine":14,"endColumn":15},{"ruleId":"113","severity":1,"message":"128","line":16,"column":18,"nodeType":"115","messageId":"116","endLine":16,"endColumn":24},{"ruleId":"113","severity":1,"message":"132","line":51,"column":10,"nodeType":"115","messageId":"116","endLine":51,"endColumn":18},{"ruleId":"113","severity":1,"message":"133","line":56,"column":9,"nodeType":"115","messageId":"116","endLine":56,"endColumn":21},{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"109","replacedBy":"134"},{"ruleId":"111","replacedBy":"135"},{"ruleId":"109","replacedBy":"136"},{"ruleId":"111","replacedBy":"137"},{"ruleId":"121","severity":1,"message":"122","line":141,"column":40,"nodeType":"123","messageId":"124","endLine":141,"endColumn":42},{"ruleId":"121","severity":1,"message":"122","line":153,"column":60,"nodeType":"123","messageId":"124","endLine":153,"endColumn":62},"no-native-reassign",["138"],"no-negated-in-lhs",["139"],"@typescript-eslint/no-unused-vars","'showModal' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'confirm'. Either include it or remove the dependency array.","ArrayExpression",["140"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd",["138"],["139"],"'Preview' is defined but never used.","'Footer' is assigned a value but never used.","'Map' is defined but never used.","'Select' is defined but never used.","'SelectProps' is defined but never used.","'location' is assigned a value but never used.","'handleChange' is assigned a value but never used.",["138"],["139"],["138"],["139"],"no-global-assign","no-unsafe-negation",{"desc":"141","fix":"142"},"Update the dependencies array to be: [confirm]",{"range":"143","text":"144"},[1729,1731],"[confirm]"]