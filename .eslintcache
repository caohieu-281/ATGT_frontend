[{"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/reportWebVitals.ts":"1","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/Map/AddMarker.tsx":"2","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/store/reducers/index.ts":"3","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/store/actions/index.ts":"4","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/store/reducers/places.ts":"5","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/ButtonConva/Button.js":"6","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/index.tsx":"7","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/DrawPolygon/MultipleCanvas.js":"8","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/data.ts":"9","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/App.tsx":"10","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/screen/HomePage.tsx":"11","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/Header/Header.tsx":"12","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/Map/Map.tsx":"13","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/screen/CameraScreen.tsx":"14","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/store/reducers/map.ts":"15"},{"size":425,"mtime":1670840799743,"results":"16","hashOfConfig":"17"},{"size":1155,"mtime":1670840856563,"results":"18","hashOfConfig":"17"},{"size":186,"mtime":1671100346729,"results":"19","hashOfConfig":"20"},{"size":75,"mtime":1671100363417,"results":"21","hashOfConfig":"17"},{"size":1325,"mtime":1671100294497,"results":"22","hashOfConfig":"17"},{"size":368,"mtime":1671348038777,"results":"23","hashOfConfig":"20"},{"size":616,"mtime":1670840799743,"results":"24","hashOfConfig":"20"},{"size":5782,"mtime":1671372443152,"results":"25","hashOfConfig":"20"},{"size":17622,"mtime":1671706110802,"results":"26","hashOfConfig":"20"},{"size":936,"mtime":1671704904345,"results":"27","hashOfConfig":"20"},{"size":3736,"mtime":1671706554157,"results":"28","hashOfConfig":"20"},{"size":1296,"mtime":1671125968864,"results":"29","hashOfConfig":"20"},{"size":3038,"mtime":1671708010487,"results":"30","hashOfConfig":"20"},{"size":2753,"mtime":1671700308124,"results":"31","hashOfConfig":"20"},{"size":431,"mtime":1671704918794,"results":"32","hashOfConfig":"20"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"18xkn7g",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"199wrf3",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/reportWebVitals.ts",[],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/Map/AddMarker.tsx",[],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/store/reducers/index.ts",[],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/store/actions/index.ts",[],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/store/reducers/places.ts",[],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/ButtonConva/Button.js",[],["66","67"],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/index.tsx",[],["68","69"],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/DrawPolygon/MultipleCanvas.js",["70","71"],"import React, { useMemo, useRef, useState, useEffect } from \"react\";\nimport { Stage, Layer, Image, Group, Line, Circle } from \"react-konva\";\nimport Button from \"../ButtonConva/Button\";\n\nconst videoSource = \"img/space_landscape.jpg\";\nconst wrapperStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  marginTop: 20,\n  backgroundColor: \"aliceblue\",\n};\nconst columnStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  marginTop: 20,\n  backgroundColor: \"aliceblue\",\n};\nconst MultipleCanvas = () => {\n  const vertexRadius = 6;\n  const [image, setImage] = useState();\n  const imageRef = useRef(null);\n  const [size, setSize] = useState({});\n  const [position, setPosition] = useState([0, 0]);\n  const [data, setData] = useState([\n    {\n      points: [\n        // 342.7272720336914, 218.00821721816132, 315.7272720336914,\n        // 135.0050886442742, 292.7272720336914, 125.0047117076613,\n      ],\n    },\n  ]);\n  const calcDistTwoPoints = (x1, y1, x2, y2) => {\n    return (x1 - x2) ** 2 + (y1 - y2) ** 2;\n  };\n\n  const videoElement = useMemo(() => {\n    const element = new window.Image();\n    element.width = 300;\n    element.height = 302;\n    element.src = videoSource;\n    return element;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [videoSource]); //it may come from redux so it may be dependency that's why I left it as dependecny...\n  useEffect(() => {\n    const onload = function () {\n      setSize({\n        width: videoElement.width,\n        height: videoElement.height,\n      });\n      setImage(videoElement);\n      imageRef.current = videoElement;\n    };\n    videoElement.addEventListener(\"load\", onload);\n    return () => {\n      videoElement.removeEventListener(\"load\", onload);\n    };\n  }, [videoElement]);\n\n  const getMousePos = (stage) => {\n    return [stage.getPointerPosition().x, stage.getPointerPosition().y];\n  };\n\n  const undo = () => {\n    var tempData = data;\n    tempData[tempData.length - 1].points = tempData[\n      tempData.length - 1\n    ].points.slice(0, -2);\n    setData(tempData);\n    setPosition(\n      tempData[tempData.length - 1].points[\n        tempData[tempData.length - 1].points - 1\n      ]\n    );\n  };\n\n  const reset = () => {\n    var tempData = data;\n    tempData = tempData.slice(0, -1);\n    setData(tempData);\n  };\n\n  const add = () => {\n    var dataTemp = data.concat({ points: [] });\n    setData(dataTemp);\n  };\n\n  const handleMouseMove = (e) => {\n    const stage = e.target.getStage();\n    const mousePos = getMousePos(stage);\n    setPosition(mousePos);\n  };\n\n  const handleMouseDown = () => {\n    if (data.length) {\n      var tempData = data;\n      var x1 = tempData[tempData.length - 1].points[0];\n      var y1 = tempData[tempData.length - 1].points[1];\n      if (calcDistTwoPoints(x1, y1, position[0], position[1]) < 150) {\n        tempData[tempData.length - 1].points = tempData[\n          tempData.length - 1\n        ].points.concat([x1, y1]);\n        setData(tempData);\n        add();\n      } else {\n        tempData[tempData.length - 1].points =\n          tempData[tempData.length - 1].points.concat(position);\n        setData(tempData);\n      }\n    } else {\n      setData([{ points: [position] }]);\n    }\n  };\n  return (\n    <div style={wrapperStyle}>\n      <div style={columnStyle}>\n        <Stage\n          width={size.width || 650}\n          height={size.height || 302}\n          onMouseMove={handleMouseMove}\n          onMouseDown={handleMouseDown}\n        >\n          <Layer>\n            <Image\n              ref={imageRef}\n              image={image}\n              x={0}\n              y={0}\n              width={size.width}\n              height={size.height}\n            />\n            {data.map((listPoint, idx) => {\n              if (listPoint.points.length) {\n                return (\n                  <Group key={idx}>\n                    <Line\n                      key={idx}\n                      points={listPoint.points}\n                      stroke=\"#00F1FF\"\n                      strokeWidth={3}\n                      fill=\"rgb(140,30,255,0.5)\"\n                    ></Line>\n\n                    {listPoint.points.map((element, index) => {\n                      if (index % 2 === 0) {\n                        const x = element;\n                        const y = listPoint.points[index + 1];\n                        return index === 0 ? (\n                          <Circle\n                            key={index}\n                            x={x}\n                            y={y}\n                            radius={vertexRadius}\n                            fill=\"#7CFC00\"\n                            stroke=\"#00F1FF\"\n                            strokeWidth={2}\n                            draggable\n                          />\n                        ) : (\n                          <Circle\n                            key={index}\n                            x={x}\n                            y={y}\n                            radius={vertexRadius}\n                            fill=\"#FF019A\"\n                            stroke=\"#00F1FF\"\n                            strokeWidth={2}\n                            draggable\n                          />\n                        );\n                      }\n                    })}\n                  </Group>\n                );\n              }\n            })}\n          </Layer>\n        </Stage>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Button name=\"Undo\" onClick={undo} />\n          <Button name=\"Reset\" onClick={reset} />\n          {/* <Button name=\"Add Polygon\" onClick={add} /> */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MultipleCanvas;\n","/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/data.ts",[],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/App.tsx",["72"],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/screen/HomePage.tsx",[],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/Header/Header.tsx",[],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/components/Map/Map.tsx",["73"],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/screen/CameraScreen.tsx",["74"],"/home/cuongdang/Desktop/labCoLe/ATGT/ATGT_frontend/src/store/reducers/map.ts",[],{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":133,"column":40,"nodeType":"81","messageId":"82","endLine":133,"endColumn":42},{"ruleId":"79","severity":1,"message":"80","line":145,"column":60,"nodeType":"81","messageId":"82","endLine":145,"endColumn":62},{"ruleId":"83","severity":1,"message":"84","line":4,"column":8,"nodeType":"85","messageId":"86","endLine":4,"endColumn":14},{"ruleId":"79","severity":1,"message":"80","line":63,"column":36,"nodeType":"81","messageId":"82","endLine":63,"endColumn":38},{"ruleId":"83","severity":1,"message":"87","line":1,"column":17,"nodeType":"85","messageId":"86","endLine":1,"endColumn":23},"no-native-reassign",["88"],"no-negated-in-lhs",["89"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","@typescript-eslint/no-unused-vars","'Header' is defined but never used.","Identifier","unusedVar","'useRef' is defined but never used.","no-global-assign","no-unsafe-negation"]